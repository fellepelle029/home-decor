<div class="product-card" *ngIf="product" (click)="navigate()"
     [class.is-light]="isLight">

  <div class="product-card-favorite" (click)="updateFavorite()" *ngIf="!isLight && isLogged">
    <span *ngIf="!product.isInFavorite">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
      <path
        d="M11.0002 19.8458C10.716 19.8458 10.441 19.8091 10.2118 19.7266C6.71016 18.5258 1.146 14.2633 1.146 7.96581C1.146 4.75748 3.74016 2.15414 6.93016 2.15414C8.47933 2.15414 9.92766 2.75914 11.0002 3.84081C12.0727 2.75914 13.521 2.15414 15.0702 2.15414C18.2602 2.15414 20.8543 4.76664 20.8543 7.96581C20.8543 14.2725 15.2902 18.5258 11.7885 19.7266C11.5593 19.8091 11.2843 19.8458 11.0002 19.8458ZM6.93016 3.52914C4.501 3.52914 2.521 5.51831 2.521 7.96581C2.521 14.2266 8.5435 17.71 10.661 18.4341C10.826 18.4891 11.1835 18.4891 11.3485 18.4341C13.4568 17.71 19.4885 14.2358 19.4885 7.96581C19.4885 5.51831 17.5085 3.52914 15.0793 3.52914C13.686 3.52914 12.3935 4.17998 11.5593 5.30748C11.3027 5.65581 10.716 5.65581 10.4593 5.30748C9.60683 4.17081 8.3235 3.52914 6.93016 3.52914Z"
        fill="#383838"/>
      </svg>
    </span>
    <span *ngIf="product.isInFavorite">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="18" viewBox="0 0 20 18" fill="none">
        <path
          d="M9.99992 17.8458C9.71575 17.8458 9.44075 17.8092 9.21159 17.7267C5.70992 16.5258 0.145752 12.2633 0.145752 5.96584C0.145752 2.75751 2.73992 0.154175 5.92992 0.154175C7.47909 0.154175 8.92742 0.759175 9.99992 1.84084C11.0724 0.759175 12.5208 0.154175 14.0699 0.154175C17.2599 0.154175 19.8541 2.76667 19.8541 5.96584C19.8541 12.2725 14.2899 16.5258 10.7883 17.7267C10.5591 17.8092 10.2841 17.8458 9.99992 17.8458ZM5.92992 1.52917C3.50075 1.52917 1.52075 3.51834 1.52075 5.96584C1.52075 12.2267 7.54325 15.71 9.66075 16.4342C9.82575 16.4892 10.1833 16.4892 10.3483 16.4342C12.4566 15.71 18.4883 12.2358 18.4883 5.96584C18.4883 3.51834 16.5083 1.52917 14.0791 1.52917C12.6858 1.52917 11.3933 2.18001 10.5591 3.30751C10.3024 3.65584 9.71575 3.65584 9.45909 3.30751C8.60659 2.17084 7.32325 1.52917 5.92992 1.52917Z"
          fill="#B6D5B9"/>
        <path
          d="M5.92992 1.52917C3.50075 1.52917 1.52075 3.51834 1.52075 5.96584C1.52075 12.2267 7.54325 15.71 9.66075 16.4342C9.82575 16.4892 10.1833 16.4892 10.3483 16.4342C12.4566 15.71 18.4883 12.2358 18.4883 5.96584C18.4883 3.51834 16.5083 1.52917 14.0791 1.52917C12.6858 1.52917 11.3933 2.18001 10.5591 3.30751C10.3024 3.65584 9.71575 3.65584 9.45909 3.30751C8.60659 2.17084 7.32325 1.52917 5.92992 1.52917Z"
          fill="#B6D5B9"/>
      </svg>
    </span>
  </div>

  <div class="product-card-image" style="background-image: url({{serverStaticPath + product.image}})"></div>
  <div class="product-card-name">{{product.name}}</div>
  <div class="product-card-info" *ngIf="!isLight">
    <div class="product-card-price">{{product.price}} BYN</div>
    <div class="product-card-action">
      <button class="button" *ngIf="!countInCart" (click)="addToCart()">В корзину</button>
      <button class="button button-transparent button-in-cart" *ngIf="countInCart" (click)="removeFromCart()">
        <span>В корзине</span>
        <span>Удалить</span>
      </button>
    </div>
  </div>

  <div class="product-card-extra" *ngIf="!isLight">
    <count-selector [count]="count" (onCountChange)="updateCount($event)"></count-selector>

    <a [routerLink]="'/product/'+product.url" class="product-card-detail">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="4" viewBox="0 0 18 4" fill="none">
        <circle cx="2.66675" cy="2" r="2" fill="#9AA89B"/>
        <circle cx="9.3335" cy="2" r="2" fill="#9AA89B"/>
        <circle cx="16" cy="2" r="2" fill="#9AA89B"/>
      </svg>
      <span>Подробнее</span>
    </a>
  </div>

</div>
